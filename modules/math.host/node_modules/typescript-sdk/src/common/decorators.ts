import {SDK_SETTINGS} from "../sdk/const";


/** @ToDo el nombre puede cambiar a algo mas conciso */
function validIntegration(target: any, propertyKey: string, descriptor: PropertyDescriptor) {

    // save a reference to the original method this way we keep the values currently in the
    // descriptor and don't overwrite what another decorator might have done to the descriptor.
    if (descriptor === undefined) {
        descriptor = Object.getOwnPropertyDescriptor(target, propertyKey);
    }
    var originalMethod = descriptor.value;

    //editing the descriptor/value parameter
    descriptor.value = function () {
        if (SDK_SETTINGS.INTEGRATION === 1) {
            return originalMethod;
        }
        return
    };

    // return edited descriptor as opposed to overwriting the descriptor
    return descriptor;
}