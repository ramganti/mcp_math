import {ICart, IResponseAuth, IShopifyCart} from "./interfaces";
import {STORAGE_KEY} from "../sdk/const";
import {Storage} from "./utils/storage";
import {Subject} from "rxjs";

/** clase que manejara el storage */
export const store = new Storage();

/** variable que almacenara el ultimo pais */
export let LAST_COUNTRY = store.get(STORAGE_KEY.LAST_COUNTRY);

/** variables observables */
export let $cartDispared = new Subject<IShopifyCart>();
export let $authData = new Subject<IResponseAuth>();
export let $cartData = new Subject<ICart>();
export let $initChangeCountry = new Subject<any>();
export let $initMulticalculate = new Subject<any>();
export let $initSynchronize = new Subject<any>();

export let SynchronizeActions = {
    $onAdd: new Subject<any>(),
    $onUpdate: new Subject<any>(),
    $onDelete: new Subject<any>(),
    $onRemoveCart: new Subject<any>(),
};

export let tingle = require('tingle.js');